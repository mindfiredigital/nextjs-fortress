"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[814],{709(e,n,t){t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>p,frontMatter:()=>o,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"quick-start","title":"Quick Start Guide","description":"Get your Next.js application protected from CVE-2025-55182 in under 5 minutes.","source":"@site/docs/quick-start.md","sourceDirName":".","slug":"/quick-start","permalink":"/nextjs-fortress/docs/quick-start","draft":false,"unlisted":false,"editUrl":"https://github.com/mindfiredigital/nextjs-fortress/tree/main/docs/docs/quick-start.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Motivation","permalink":"/nextjs-fortress/docs/motivation"},"next":{"title":"Dangerous Keys Detection","permalink":"/nextjs-fortress/docs/modules/deserialization/dangerous-keys"}}');var i=t(7900),r=t(6493);const o={},l="Quick Start Guide",d={},a=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Demo Video",id:"demo-video",level:2},{value:"Step 1: Install",id:"step-1-install",level:2},{value:"Step 2: Configuration file gets created",id:"step-2-configuration-file-gets-created",level:2},{value:"Step 3: Middleware Integration",id:"step-3-middleware-integration",level:2},{value:"Option 1: New Project (No Existing Middleware)",id:"option-1-new-project-no-existing-middleware",level:3},{value:"Option 2: Existing Middleware (Simple Integration)",id:"option-2-existing-middleware-simple-integration",level:3},{value:"Option 3: Middleware implementation in custom allowed paths",id:"option-3-middleware-implementation-in-custom-allowed-paths",level:3},{value:"Step 4: Test Protection",id:"step-4-test-protection",level:2},{value:"Option 1: Test with the built in frontend",id:"option-1-test-with-the-built-in-frontend",level:3},{value:"Running the Demo",id:"running-the-demo",level:4},{value:"Option 2: Self Testing",id:"option-2-self-testing",level:3},{value:"Create Test API Route",id:"create-test-api-route",level:4},{value:"Test 1: Prototype Pollution (CVE-2025-55182)",id:"test-1-prototype-pollution-cve-2025-55182",level:4},{value:"Test 2: SQL Injection",id:"test-2-sql-injection",level:4},{value:"Test 3: XSS Attack",id:"test-3-xss-attack",level:4},{value:"Test 4: Rate Limiting",id:"test-4-rate-limiting",level:4},{value:"Environment Variables",id:"environment-variables",level:2},{value:"What Happens Now",id:"what-happens-now",level:2},{value:"Every Request Is Protected",id:"every-request-is-protected",level:3},{value:"Security Events Are Logged",id:"security-events-are-logged",level:3},{value:"Next Steps",id:"next-steps",level:2},{value:"Additional Resources",id:"additional-resources",level:2},{value:"Getting Help",id:"getting-help",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"quick-start-guide",children:"Quick Start Guide"})}),"\n",(0,i.jsx)(n.p,{children:"Get your Next.js application protected from CVE-2025-55182 in under 5 minutes."}),"\n",(0,i.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Next.js 12.0.0 or higher"}),"\n",(0,i.jsx)(n.li,{children:"Node.js 16.0.0 or higher"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"demo-video",children:"Demo Video"}),"\n",(0,i.jsx)("iframe",{width:"100%",height:"450",src:"https://www.youtube.com/embed/u2sZN_lTsGo",title:"NextJS Fortress Demo",frameborder:"0",allowfullscreen:!0}),"\n",(0,i.jsx)(n.h2,{id:"step-1-install",children:"Step 1: Install"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npm install @mindfiredigital/nextjs-fortress\n"})}),"\n",(0,i.jsx)(n.p,{children:"Or use the CLI:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npx fortress init\n"})}),"\n",(0,i.jsx)(n.p,{children:"The CLI will:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Detect your Next.js version"}),"\n",(0,i.jsxs)(n.li,{children:["Create ",(0,i.jsx)(n.code,{children:"fortress.config.ts"})]}),"\n",(0,i.jsxs)(n.li,{children:["Create ",(0,i.jsx)(n.code,{children:"middleware.ts"})]}),"\n",(0,i.jsxs)(n.li,{children:["Generate ",(0,i.jsx)(n.code,{children:".env.example"})]}),"\n",(0,i.jsx)(n.li,{children:"Create example API route"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"step-2-configuration-file-gets-created",children:"Step 2: Configuration file gets created"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"fortress.config.ts"})," in your project root gets created:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"// fortress.config.ts\nimport { FortressConfig } from 'nextjs-fortress';\n\nexport const fortressConfig: FortressConfig = {\n  enabled: true,\n  mode: 'development', // Change to 'production' when deploying\n\n  logging: {\n    enabled: true,\n    level: 'debug',\n    destination: 'console',\n  },\n\n  modules: {\n    // 1. Deserialization Protection (CVE-2025-55182)\n    deserialization: {\n      enabled: true,\n      maxDepth: 10,\n      detectCircular: true,\n    },\n\n    // 2. Injection Detection\n    injection: {\n      enabled: true,\n      checks: ['sql', 'command', 'xss', 'codeInjection'],\n    },\n\n    // 3. Encoding Validation (Ghost Mode Protection)\n    encoding: {\n      enabled: true,\n      blockNonUTF8: true,\n      detectBOM: true,\n    },\n\n    // 4. CSRF Protection (disable in development)\n    csrf: {\n      enabled: false, // Enable in production\n      cookieName: '_csrf',\n      tokenSecret: process.env.CSRF_SECRET,\n    },\n\n    // 5. Rate Limiting\n    rateLimit: {\n      enabled: true,\n      byIP: {\n        requests: 100,\n        window: 60000, // 100 requests per minute\n      },\n    },\n\n    // 6. Content Validation\n    content: {\n      enabled: true,\n      maxPayloadSize: 1024 * 1024, // 1MB\n    },\n\n    // 7. Security Headers\n    securityHeaders: {\n      enabled: true,\n    },\n  },\n\n  whitelist: {\n    paths: ['/_next', '/favicon.ico'],\n    ips: [],\n  },\n\n  onSecurityEvent: async (event) => {\n    console.warn('\ud83d\udea8 Security Event:', {\n      type: event.type,\n      severity: event.severity,\n      message: event.message,\n      ip: event.request.ip,\n      path: event.request.path,\n    });\n  },\n};\n"})}),"\n",(0,i.jsx)(n.h2,{id:"step-3-middleware-integration",children:"Step 3: Middleware Integration"}),"\n",(0,i.jsx)(n.h3,{id:"option-1-new-project-no-existing-middleware",children:"Option 1: New Project (No Existing Middleware)"}),"\n",(0,i.jsxs)(n.p,{children:["If you don't have a ",(0,i.jsx)(n.code,{children:"middleware.ts"})," file, create one:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"\nimport { createFortressMiddleware } from '@mindfiredigital/nextjs-fortress'\nimport { fortressConfig } from './fortress.config'\n\nexport const middleware = createFortressMiddleware(fortressConfig)\n\nexport const config = {\n  matcher: ['/((?!_next/static|_next/image|favicon.ico).*)'],\n}\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"option-2-existing-middleware-simple-integration",children:"Option 2: Existing Middleware (Simple Integration)"}),"\n",(0,i.jsx)(n.p,{children:"If you already have middleware, wrap your existing logic with Fortress:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Before (Your existing middleware):"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"import { NextRequest, NextResponse } from 'next/server'\n\n// This is exactly what is happening inside the \"custom logic\" part\nexport async function middleware(request: NextRequest) {\n  const response = NextResponse.next()\n  response.headers.set('x-custom', 'value')\n  return response\n}\n\nexport const config = {\n  matcher: ['/api/:path*'],\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"After (With Fortress protection):"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"import { createFortressMiddleware } from '@mindfiredigital/nextjs-fortress'\nimport { fortressConfig } from './fortress.config'\nimport { NextRequest, NextResponse } from 'next/server'\n\n// Option 1: Simple\n// export const middleware = createFortressMiddleware(fortressConfig)\n\n// Option 2: With custom logic - NO TYPE ERRORS\nasync function myMiddleware(request: NextRequest) {\n  const response = NextResponse.next()\n  response.headers.set('x-custom', 'value')\n  return response\n}\n\nexport const middleware = createFortressMiddleware(fortressConfig, myMiddleware)\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"option-3-middleware-implementation-in-custom-allowed-paths",children:"Option 3: Middleware implementation in custom allowed paths"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"import { createSelectiveFortressMiddleware } from '@mindfiredigital/nextjs-fortress'\nimport { fortressConfig } from './fortress.config'\nimport { NextRequest, NextResponse } from 'next/server'\n\n// Your existing custom middleware logic\nasync function myMiddleware(request: NextRequest) {\n  const response = NextResponse.next()\n  response.headers.set('x-custom', 'value')\n  response.headers.set('x-app-version', '1.0.0')\n  return response\n}\n\nexport const middleware = createSelectiveFortressMiddleware(\n  fortressConfig,\n  {\n    // Routes that MUST be protected by Fortress\n    protectedPaths: [\n      '/api/test',           // Your test endpoint\n      '/api/admin/*',        // All admin routes\n      '/api/secure/*',       // All secure routes\n    ],\n    \n    // Routes that should NEVER be protected\n    excludedPaths: [\n      '/api/public/*',       // Public endpoints\n      '/api/health',         // Health check\n    ],\n    \n    // Your custom middleware runs on ALL routes\n    customMiddleware: myMiddleware\n  }\n)\n\nexport const config = {\n  matcher: ['/((?!_next/static|_next/image|favicon.ico).*)'],\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"step-4-test-protection",children:"Step 4: Test Protection"}),"\n",(0,i.jsx)(n.h3,{id:"option-1-test-with-the-built-in-frontend",children:"Option 1: Test with the built in frontend"}),"\n",(0,i.jsx)(n.p,{children:"The demo app provides a hands-on interface to test all security protections with 15+ pre-configured attack vectors."}),"\n",(0,i.jsx)(n.h4,{id:"running-the-demo",children:"Running the Demo"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"git clone https://github.com/mindfiredigital/nextjs-fortress.git\ncd examples/demoApp\npnpm install\npnpm dev\n"})}),"\n",(0,i.jsx)(n.h3,{id:"option-2-self-testing",children:"Option 2: Self Testing"}),"\n",(0,i.jsx)(n.h4,{id:"create-test-api-route",children:"Create Test API Route"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"// app/api/test/route.ts\nimport { NextRequest, NextResponse } from 'next/server';\n\nexport async function POST(request: NextRequest) {\n  try {\n    const body = await request.json();\n    \n    return NextResponse.json({\n      success: true,\n      message: 'Request validated by Fortress',\n      data: body,\n    });\n  } catch (error) {\n    return NextResponse.json(\n      { error: 'Invalid request' },\n      { status: 400 }\n    );\n  }\n}\n\nexport async function GET() {\n  return NextResponse.json({\n    message: 'Fortress Active',\n    protections: [\n      'Deserialization (CVE-2025-55182)',\n      'SQL Injection',\n      'XSS Attacks',\n      'Command Injection',\n      'Encoding Bypass (Ghost Mode)',\n      'Rate Limiting',\n      'Security Headers',\n    ],\n  });\n}\n"})}),"\n",(0,i.jsx)(n.h4,{id:"test-1-prototype-pollution-cve-2025-55182",children:"Test 1: Prototype Pollution (CVE-2025-55182)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'curl -X POST http://localhost:3000/api/test \\\n  -H "Content-Type: application/json" \\\n  -d \'{"__proto__": {"isAdmin": true}}\'\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Expected Response:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "error": "Dangerous key detected: \\"__proto__\\"",\n  "rule": "dangerous_key"\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Status:"})," 403 Forbidden"]}),"\n",(0,i.jsx)(n.h4,{id:"test-2-sql-injection",children:"Test 2: SQL Injection"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'curl -X POST http://localhost:3000/api/test \\\n  -H "Content-Type: application/json" \\\n  -d \'{"query": "SELECT * FROM users WHERE id=1 OR 1=1"}\'\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Expected Response:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "error": "SQL injection detected: \\"OR 1=1\\"",\n  "rule": "sql_injection"\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Status:"})," 403 Forbidden"]}),"\n",(0,i.jsx)(n.h4,{id:"test-3-xss-attack",children:"Test 3: XSS Attack"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'curl -X POST http://localhost:3000/api/test \\\n  -H "Content-Type: application/json" \\\n  -d \'{"comment": "<script>alert(1)<\/script>"}\'\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Expected Response:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "error": "XSS injection detected: \\"<script>\\"",\n  "rule": "xss_injection"\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Status:"})," 403 Forbidden"]}),"\n",(0,i.jsx)(n.h4,{id:"test-4-rate-limiting",children:"Test 4: Rate Limiting"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'# Run this 101 times quickly\nfor i in {1..101}; do\n  curl -X POST http://localhost:3000/api/test \\\n    -H "Content-Type: application/json" \\\n    -d \'{"test": "data"}\'\ndone\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"After 100 requests:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Status: 429 Too Many Requests\nRetry-After: 45\n"})}),"\n",(0,i.jsx)(n.p,{children:"Rate limit working!"}),"\n",(0,i.jsx)(n.h2,{id:"environment-variables",children:"Environment Variables"}),"\n",(0,i.jsxs)(n.p,{children:["Create ",(0,i.jsx)(n.code,{children:".env.local"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# CSRF Secret (generate with: openssl rand -hex 32)\nCSRF_SECRET=your-32-character-secret-key-here\n\n# Whitelisted IPs (comma-separated)\nWHITELIST_IPS=127.0.0.1,::1\n"})}),"\n",(0,i.jsx)(n.h2,{id:"what-happens-now",children:"What Happens Now"}),"\n",(0,i.jsx)(n.h3,{id:"every-request-is-protected",children:"Every Request Is Protected"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"// Before reaching your code, fortress validates:\n\n1. \u2713 No dangerous keys (__proto__, constructor, prototype)\n2. \u2713 No SQL injection patterns\n3. \u2713 No XSS attempts\n4. \u2713 No command injection\n5. \u2713 No encoding bypasses\n6. \u2713 Depth limit not exceeded\n7. \u2713 No circular references\n8. \u2713 Rate limit not exceeded\n9. \u2713 Payload size within limit\n10. \u2713 Valid content type\n\n// If all checks pass \u2192 Your handler executes\n// If any check fails \u2192 403 Forbidden + logged\n"})}),"\n",(0,i.jsx)(n.h3,{id:"security-events-are-logged",children:"Security Events Are Logged"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"// Console output when attack detected:\n\ud83d\udea8 Security Event: {\n  type: 'deserialization',\n  severity: 'critical',\n  message: 'Dangerous key detected: \"__proto__\"',\n  ip: '192.168.1.100',\n  path: '/api/test',\n  rule: 'dangerous_key',\n  confidence: 1.0,\n  timestamp: 2025-01-07T10:30:00.000Z\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,i.jsx)(n.p,{children:"Now that you're protected:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Monitor Security Events"})," - Watch console for attacks"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Customize Configuration"})," - Adjust limits for your needs"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Add Monitoring"})," - Send events to Sentry, DataDog, etc."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Test Thoroughly"})," - Ensure it doesn't break your app"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Deploy to Production"})," - Enable CSRF and production mode"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"additional-resources",children:"Additional Resources"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/nextjs-fortress/docs/cve/cve-2025-55182",children:"CVE-2025-55182 Details"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/nextjs-fortress/docs/modules/deserialization/dangerous-keys",children:"modular-overview"})}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"getting-help",children:"Getting Help"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/mindfiredigital/nextjs-fortress/issues",children:"Report Issues"})}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Congratulations!"})," Your Next.js application is now protected from CVE-2025-55182 and all major attack vectors."]})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},6493(e,n,t){t.d(n,{R:()=>o,x:()=>l});var s=t(2128);const i={},r=s.createContext(i);function o(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);